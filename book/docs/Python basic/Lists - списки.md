# Lists - списки

Списки (list) - это тип объектов Python, которые являются последовательностями. Списки являются позиционно упорядоченными коллекциями разнообразных объектов. К основным свойствам списком относят изменяемость - списки можно изменять, сокращать, дополнять и производить с ними другие операции.  

Проще говоря, списки являются массивами разнородных данных. Элементами списком могут быть строки, числа, словари, сами списки (вложенные списки) и другие всевозможные объекты.

## Списки - это последовательности

Так как списки являются последовательностями, то над ними можно производить все операции для последовательностей. Например, можно обратить к любому элементу списка по его индексу:

```python
>>> a = ['It', 'is', 'the', 'new', 'list']
>>> a[0]
'It'
>>> a[-1]
'list'
```

Можно разрезать список, т.е. выполнить срез нужного участка последовательности: 

```python
>>> a[1:3]
['is', 'the']
```

Можно узнать длину последовательности с помощью функции `len()`:

```python
>>> len(a)
5
```

## Некоторые методы списков

Списки могут содержать в себе элементы любых типов данных. Для добавления элемента в список используются метод `append()`, для удаления элемента по его индексу - метод `pop()`, который удаляет элемент и возвращает его. Рассмотрим методы на примерах:

```python
>>> a.append('!')  # Добавление элемента в конец списка
>>> a
['It', 'is', 'the', 'new', 'list', '!']
>>> a.pop(0)  # Удаление элемента по индексу
'It'
>>> a.pop()  # По умолчанию удаляется последний элемент списка
'!'
>>> a
['is', 'the', 'new', 'list']
```

Для сортировки доступен метод `sort()`:

```python
>>> a
['It', 'is', 'the', 'new', 'list']
>>> a.sort()
>>> a
['It', 'is', 'list', 'new', 'the']
```

Для того, чтобы перевернуть массив - метод `reverse()`:

```python
>>> a
['It', 'is', 'the', 'new', 'list']
>>> a.reverse()
>>> a
['list', 'new', 'the', 'is', 'It']
```

# List comprehension - выражения спискового включения

List comprehension - полезный инструмент для создания новых строк, который часто используется на практике. Для примера создадим новый список, который содержит все целые числа с 0 до 9:

```python
>>> a = [i for i in range(10)]
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

Функция `range()` возвращает итератор, по которому можно пройтись в цикле. Пример выше можно записать еще проще без использования List comprehension:

```python
>>> a = list(range(10))
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

Мы создали новый объект класса `list`. Для создания объекта мы передали аргумент `range(10)`, который является итератором. Тема итераторов будет рассмотрена в будущем.

List comprehension могут быть сложнее, могут содержать выражения для изменения элементов, также могут использовать ветвления. Создадим список квадратов созданного списка выше. И такого же списка, но только из нечетных элементов:

```python
>>> a = [i**2 for i in range(10)]
>>> a
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

>>> a = [i**2 for i in range(10) if i % 2 == 1]  # Используются только нечетные числа
>>> a
[1, 9, 25, 49, 81]
```

Попробуем создать матрицу:

```python
>>> m = [[i, i+1, i+2] for i in range(1,4)]
>>> m
[[1, 2, 3], 
 [2, 3, 4],
 [3, 4, 5]]
```

Создадим список, содержащий элементы 2-го столбца матрицы:

```python
>>> v = [row[1] for row in m]
>>> v
[2, 3, 4]
```

Переменная `row` может называться как-угодно, но лучше использовать наиболее подходящие имена переменных.

С помощью такого рода выражений можно создать не только объекты списков, но и словарей и множеств:

```python
>>> d = {num: num**2 for num in range(3)}
>>> d
{0: 0, 1: 1, 2: 4}
>>> s = {num for num in [1,1,2,2,3,3]}
>>> s
{1, 2, 3}
```

Если же мы запишем подобные выражения в круглых скобках, то мы получим не кортеж, а генератор. Тема генераторов будет освещена позже.

```python
>>> a = (i for i in range(10))
>>> a
<generator object <genexpr> at 0x10aaf7eb0>
>>> a.__next__()
0
>>> a.__next__()
1
>>> a.__next__()
2
```
