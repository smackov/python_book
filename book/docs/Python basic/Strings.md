# Strings - строки

Строки - это встроенный тип объектов Python. Для создания этого типа объекта используется синтаксис выражения, помещенного в одиночные `'` или двойные кавычки `"`.

Создадим строку `hello, world!` и запишем ее в переменную `our_string`:

``` python
>>> our_string = 'hello, world!'
>>> our_string
'hello, world!'
```

В большинстве случаев нет разницы между использованием одиночных `'` или двойных кавычек. Для выражения строк они равносильны:

``` python
>>> our_string = "hello, world!"
>>> our_string
'hello, world!'
```

По сути строки - это коллекции однострочных символов (строк). Для доступа к каждому символу в строке используется *индексация*. Например, для получения первого символа в строке нам нужно обратиться к нашей созданной переменной и с помощью квадратных скобок `[]` указать нужный индекс:

``` python
>>> our_string[0]
'h'
>>> our_string[1]
'e'
>>> our_string[2]
'l'
```

Также можно использовать обратное индексирование. Тогда мы можем проводить отсчет с конца строки:

``` python
>>> our_string[-1]
'!'
>>> our_string[-2]
'd'
>>> our_string[-3]
'l'
```

Так как строки поддерживают индексацию, то, скорее всего, нам будет удобно пользоваться функцией, которая могла бы выводить длину строк. Для этих целей существует функция `len()`, которая работает со строками:

``` python
>>> len(our_string)
13
```

Так как индексация начинается с `0`, а длина нашей строки `13`, то последний символ строки должен иметь индекс `12`:

``` python
>>> our_string[12]
'!'
```

Строки поддерживают другую форму индексации - `нарезание`. Он используется для получения не одного символа строки, а указанную последовательность символов - `срез`. Для создания среза необходимо указать его начало и конец в квадратных скобках через знак `:`. Создадим срез из нашей строки, который содержит в себе слово `world`:

``` python
>>> our_string[7:12]
'world'
```
Заметим, что последний индекс, определенный в срезе, указывает на символ, перед которым заканчивается срез. В нашем случае срез заканчивается перед `12` элементом, который равен знаку восклицания `!`: 

``` python
>>> our_string[7]
'w'
>>> our_string[11]
'd'
>>> our_string[12]
'!'
```

По умолчанию левая граница среза принимается равной нулю, а правая — длине нарезаемой последовательности `len(string)`. Таким образом, мы можем указывать только левый или правый индекс, что дает нам дополнительную гибкость при работе над срезами:

``` python
>>> our_string = 'hello, world!'
>>> our_string[:]
'hello, world!'
>>> our_string[1:]
'ello, world!'
>>> our_string[7:]
'world!'
>>> our_string[-6:]
'world!'
>>> our_string[:5]
'hello'
>>> our_string[:-1]
'hello, world'
```

Конкатенация - это процесс объединения нескольких строк в одну. Для этого между соединяемыми строками в выражении нужно использовать знак плюс `+`. Попробуем добавить к нашей строке новую:

``` python
>>> our_string + " It's Python"
"hello, world! It's Python"
```

Мы получили из двух строк одну. Внутри второй строки мы использовали одинарную кавычку `'`. В таких случаях, когда нам нужно использовать одинарные кавычки внутри самой строки, необходимо записывать выражение строки в двойных кавычках `"`, чтобы не было конфликта в синтаксисе.

## Неизменяемость строк

Строки - это неизменяемые объекты. Мы не можем изменить последовательность или поменять какой-либо символ в строке. Для примера попробуем заменить знак восклицания в конце нашей строки на точку: 

``` python
>>> our_string[12] = '.'
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: 'str' object does not support item assignment
```

Мы получили ошибку `TypeError`, которая говорит нам, что объект строка не поддерживает элементное присваивание. Чтобы добиться нашей цели мы можем создать новую подходящую строку и записать ее в ту же переменную:

``` python
>>> our_string = 'hello, world.'
>>> our_string
'hello, world.'
```

Либо мы можем не вводить строку целиком, а взять срез с прошлой строки:

``` python
>>> our_string = our_string[:12] + '.'
>>> our_string
'hello, world.'
```

## Методы строк

Строки - это последовательности, поэтому с ними можно проводить основные операции, которые проводятся и с другими последовательностями. Однако, у строк имеются специфичные встроенные операции, которые предоставляют необходимые инструменты для работы с строками. Это методы строк.

Рассмотрим некоторые из них. С полным списком методов строк можно ознакомиться в следующей статье `Методы строк`.

Метод `count()`. Данный метод возвращает число раз, сколько указанный символ или последовательность встречается в строке. Сколько раз буква `l` встречается в нашей строке `hello, world!` или последовательность `lo`?. Давайте вычислим это:

``` python
>>> our_string.count('l')
3
>>> our_string.count('lo')
1
```

Метод `find()`. Данный метод возвращает позиция первого совпадения в строке введенного значения. На какой позиции впервые встречается буква `h` или `l`?
Давайте посмотрим:

``` python
>>> our_string.find('h')
0
>>> our_string.find('l')
2
```

Заметим, что буква `l` впервые встречается на позиции 2, после нее следует та же самая буква только ее позиция уже равна 3. Поэтому мы получаем позицию номер 2 в примере выше.

Метод `replace()`. Данный метод находит все совпадения введенному паттерну и заменяет их на введенное значение. Давайте заменим все буквы `o` на букву `a` в нашей строке:

``` python
>>> our_string.replace('o', 'a')
'hella, warld!'
```

Результат выглядит смешным, но довольно показателен.

Помните, что мы говорили о том, что строки являются неизменяемыми объектами в Python? Мы только что заменили часть букв на другие. Значит, что мы изменили нашу строку? Давайте проверим:

``` python
>>> our_string
'hello, world!'
```

Наша строка никак не изменилась. Метод `replace()` берет исходную строку и возвращает другую. Строки нельзя изменить.

Методы `upper()` и `lower()` переводят строку в верхний и нижний регистры соответственно. Продемонстрируем их на наше строке:

``` python
>>> our_string.upper()
'HELLO, WORLD!'
>>> our_string.lower()
'hello, world!'
```

Метод `split()`. Данный метод весьма полезен и встречается часто при работе со строками. Он возвращает список из литералов строки, разделенных сепаратором. Сепаратор по умолчанию равен знаку пробела:

``` python
>>> our_string.split() # Разделение строки по пробелу
['hello,', 'world!']
>>> our_string.split(',') # Разделение строки по знаку запятой
['hello', ' world!']
>>> our_string.split('o') # Разделение строки по буквам  'о'
['hell', ', w', 'rld!']
```

## Форматирование строк

Форматирование строк - более сложный подход по модифицированию строк. Существует несколько вариантов форматирования.

Первый вариант - использование оператора `%`. Для этого варианта создается строка с подготовленными местами вставок строк `%s`, добавляется оператор `%` и кортеж с вставляемыми строками:

``` python
>>> '%s, %s!' % ('hello', 'world')
'hello, world!'
```

Второй вариант - использование метода `format()`. Рассмотрим его на примере:

``` python
>>> '{}, {}!'.format('hello', 'world')
'hello, world!'
```

## Специальные символы строк

Для работы со строками в нашем распоряжении имеются специальные непечатные символы - это специальные последовательности шестнадцатеричной системы обозначений. Приведем ниже несколько из них:
* `\n` - перенос строки
* `\t` - знак табуляции

Применим их в примерах ниже:

``` python
>>> print("First line \nSecond line \n\tThird tabulated line")
First line
Second line
	Third tabulated line
```

В тех случаях, когда нам нужно добавить печатные символы, совпадающие по написанию с специальными, мы можем воспользоваться экранирующим символом `\`. Рассмотрим эту возможность на примере

``` python
>>> print("\\n - it's special symbol to create line break. \n\\t - it's special symol for tabulation")
\n - it's special symbol to create line break.
\t - it's special symol for tabulation
```

## Заключение 

В данной статье мы познакомились с таким типом данных в Python, как строка. Это важный объект, с которым мы будем постоянно сталкиваться в различных видах работ. Умение работать со строками - обязательный навык, который должен освоить программист.